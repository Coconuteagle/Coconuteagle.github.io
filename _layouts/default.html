---
---

<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="{{ site.locale | slice: 0,2 | default: "en" }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
    <style>
.df-messenger .df-messenger-chat-icon {
    background-image: url("/assets/images/88x88.png");
}
</style>
<style>
  df-messenger {
 
   --df-messenger-button-titlebar-color: #eff0db;

  }
</style>
  </head>

  <body class="layout--{{ page.layout | default: layout.layout }}{% if page.classes or layout.classes %}{{ page.classes | default: layout.classes | join: ' ' | prepend: ' ' }}{% endif %}">
    {% include_cached skip-links.html %}
    {% include_cached masthead.html %}

    <div class="initial-content">
      {{ content }}
    </div>

    {% if site.search == true %}
      <div class="search-content">
        {% include_cached search/search_form.html %}
      </div>
    {% endif %}

    <div id="footer" class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include_cached footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
          body {
            position: relative;
            height: 100vh;
            margin: 0;
            background-color: white;
            font-family: Arial, sans-serif;
        }

          #chat-icon {
              position: fixed;
              bottom: 20px;
              right: 20px;
              cursor: pointer;
              z-index: 1000;
              width: 50px;
              height: 50px;
              border-radius: 50%;
              background-image: url("/assets/images/chatbot50.jpg");
              background-size: cover;
              background-position: center;
              transition: transform 0.3s ease; /* Smooth transition for scaling effect */
              box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Add shadow effect */
          }
          @keyframes initialRise {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
            }
                    @keyframes clickAnimation {
                0% { transform: scale(1); }
                50% { transform: scale(0.95); }
                100% { transform: scale(1); }
                    }
            #close-chat {
            position: absolute;
            top: 10px;       /* 위치 조정 */
            right: 10px;     /* 위치 조정 */
            font-size: 32px;
            cursor: pointer;
            background-color: #ffffff;  /* 배경색 추가 */
            border-radius: 50%;         /* 원형 디자인 */
            width: 32px;
            height: 32px;
            line-height: 32px;
            text-align: center;
        }
          #chat-icon {
              animation: initialRise 1s ease forwards;
          }
          
          /* Slight scaling effect when the icon is clicked */
          #chat-icon:active {
            animation: clickAnimation 0.3s ease forwards;
          }

        #chat-box {
            display: none; 
            position: fixed;
            bottom: 77px;
            right: 20px;
            width: 60%;
            max-width: 450px;
            height: 73%;
            max-height: 700px;
            background-color: white;
            padding: 17px;
            border-radius: 8px; /* Add rounded corners */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); /* Enhanced shadow effect */
            z-index: 1000;
            padding: 0px 15px 0px 0px; /* 오른쪽 여백 추가 */
            
        }


        #messages {
            height: 100%;
            overflow-y: auto;
        }

        @media (max-width: 600px) {
            #chat-box {
               
                width: 100%;
                height: 100%;
                bottom: 0;
                right: 0;
                max-width: unset;
                max-height: unset;
                padding-top: 60px; /* Update the padding here as well */
                box-sizing: border-box;
            }

            #close-chat {
                position: fixed;
                top: 15px;
                right: 15px;
                font-size: 32px;
                cursor: pointer;
            }
        }
        #chat-bubble {
    position: fixed;
    bottom: 26px;  /* chat-icon의 위치에 따라 조절 */
    right: 90px;   /* chat-icon의 위치에 따라 조절 */
    padding: 10px;
    background-color: #ffffff;
    border: 1px solid #ccc;
    border-radius: 10px;
    max-width: 250px;  /* 최대 너비 */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);  /* 그림자 효과 */
    z-index: 999;  /* chat-icon보다 한 단계 아래 */
    right: 80px;
   font-size: initial;
}

/* 모바일 화면에 맞게 조절 */
@media (max-width: 600px) {
    #chat-bubble {
        right: 80px;
        bottom: 85px;
    }
  #chat-icon {
              position: fixed;
              bottom: 79px;
              right: 20px;
              cursor: pointer;
              z-index: 1000;
              width: 50px;
              height: 50px;
              border-radius: 50%;
              background-image: url("/assets/images/chatbot50.jpg");
              background-size: cover;
              background-position: center;
              transition: transform 0.3s ease; /* Smooth transition for scaling effect */
              box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Add shadow effect */
          }
}
#chat-bubble::before {
    content: "";
    position: absolute;
    right: -10px;  /* 꼬리의 위치 조정 */
    top: 73%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-left: 10px solid white;  /* 꼬리의 색상 설정 */
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
}
@keyframes bubbleAnimation {
    0% { transform: translateX(0); }
    50% { transform: translateX(-10px); }
    100% { transform: translateX(0); }
}

#chat-bubble {
    /* 기타 스타일 ... */
    animation: bubbleAnimation 2s infinite;  /* 2초 동안 무한 반복 */
    
}

    </style>

    <script>
        function animationEndCallback() {
    var chatIcon = document.getElementById("chat-icon");
    chatIcon.style.animation = 'none';  // 애니메이션 제거
    chatIcon.removeEventListener('animationend', animationEndCallback);  // 이벤트 리스너 제거
}

function toggleChatBox() {
    var chatIcon = document.getElementById("chat-icon");
    var chatBox = document.getElementById("chat-box");
    
    if (!chatIcon.style.animation) {
        chatIcon.addEventListener('animationend', animationEndCallback);  // 애니메이션이 끝나면 callback 함수 실행
    }
    
    if (chatBox.style.display === "" || chatBox.style.display === "none") {
    chatBox.style.display = "block";
} else {
    chatBox.style.display = "none";
}

}

window.addEventListener('popstate', function(event) {
    var chatBox = document.getElementById("chat-box");
    if (event.state && event.state.chatBoxOpen) {
        chatBox.style.display = "none";
    }
});


    </script>
</head>
<body>
    <div id="chat-icon" onclick="toggleChatBox()">
    </div>
    <div id="chat-bubble">안녕하세요 사립유치원 예결산 업무 상담용 챗봇입니다</div>

    <div id="chat-box">
        <div id="close-chat" onclick="toggleChatBox()">×</div>
        <!-- Use an iframe to display the website -->
        <iframe src="https://port-0-flask-eu1k2llkxinia4.sel4.cloudtype.app/" padding="0" margin= "0" width="100%" height="100%" frameborder="0" style="border:0; overflow:hidden;" allowfullscreen></iframe>
        <!-- Add close chat button for mobile -->

    </div>
</body>


</html>
