---
---

<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="{{ site.locale | slice: 0,2 | default: "en" }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
    <style>
.df-messenger .df-messenger-chat-icon {
    background-image: url("/assets/images/88x88.png");
}
</style>

  </head>

  <body class="layout--{{ page.layout | default: layout.layout }}{% if page.classes or layout.classes %}{{ page.classes | default: layout.classes | join: ' ' | prepend: ' ' }}{% endif %}">
    {% include_cached skip-links.html %}
    {% include_cached masthead.html %}

    <div class="initial-content">
      {{ content }}
    </div>

    {% if site.search == true %}
      <div class="search-content">
        {% include_cached search/search_form.html %}
      </div>
    {% endif %}

    <div id="footer" class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include_cached footer.html %}
      </footer>
    </div>

    {% include scripts.html %}
 (function (global) {
        'use strict';

        const nonce = window['dfBootstrapNonce'];

        var CUSTOM_ELEMENTS_ADAPTER_URL =
            'https://static.dialogflow.com/common/messenger/webcomponentsjs/2.1.3/custom-elements-es5-adapter.js';
        var WEBCOMPONENTS_LOADER_URL =
            'https://static.dialogflow.com/common/messenger/webcomponentsjs/2.1.3/webcomponents-loader.js';
        var MESSENGER_URL =
            'https://www.gstatic.com/dialogflow-console/fast/messenger/messenger-internal.min.js?v=4';

        var loadDfMessenger = function () {
          var elementScript = document.createElement('script');
          elementScript.addEventListener('load', onMessengerLoaded, false);
          elementScript.src = MESSENGER_URL;
          if (nonce) {
            elementScript.setAttribute('nonce', nonce);
          }
          global.document.body.insertBefore(elementScript, null);
        };

        var onMessengerLoaded = function () {
          window.dispatchEvent(new Event('dfMessengerLoaded'))
        };

        var loadWebComponentPolyfills = function () {
          var customElementsAdapterTag = document.createElement('script');
          if (global.customElements) {
            customElementsAdapterTag.src = CUSTOM_ELEMENTS_ADAPTER_URL;
            if (nonce) {
              customElementsAdapterTag.setAttribute('nonce', nonce);
            }
            document.head.appendChild(customElementsAdapterTag);
          }
          const webComponentsLoaderTag = document.createElement('script');
          webComponentsLoaderTag.src = WEBCOMPONENTS_LOADER_URL;
          if (nonce) {
            webComponentsLoaderTag.setAttribute('nonce', nonce);
          }
          global.document.head.appendChild(webComponentsLoaderTag);
        };

        global.addEventListener('WebComponentsReady', loadDfMessenger, false);

        var raf = global.requestAnimationFrame || global.mozRequestAnimationFrame ||
            global.webkitRequestAnimationFrame || global.msRequestAnimationFrame;
        if (raf) {
          raf(function () {
            global.setTimeout(loadWebComponentPolyfills, 0);
          });
        } else {
          global.addEventListener('load', loadWebComponentPolyfills);
        }
      })(window);

      window.addEventListener('load', (event) => {
        const targetNode = document.querySelector('df-messenger');
        const observerConfig = { attributes: false, childList: true, subtree: true };

        const callback = (mutationsList, observer) => {
          for (let mutation of mutationsList) {
            if (mutation.type === 'childList') {
              const chatIcon = targetNode.shadowRoot.querySelector('df-messenger-chat-icon');
              if (chatIcon) {
                chatIcon.style.backgroundImage = 'url("/assets/images/88x88.png")';
                observer.disconnect();
                break;
              }
            }
          }
        };

        const observer = new MutationObserver(callback);
        observer.observe(targetNode, observerConfig);
      });
    </script>
 <df-messenger intent="WELCOME" chat-title="학원_민원_챗봇" agent-id="df2fdb06-5da2-4db0-8f6e-b2fd1ad5cee6" language-code="ko"></df-messenger>


  </body>
</html>
